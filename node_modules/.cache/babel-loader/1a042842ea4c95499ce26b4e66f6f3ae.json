{"ast":null,"code":"import _objectSpread from\"I:/Facu/progra CS/workspace/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{useForm}from'react-hook-form';import{crearCliente,updateCliente}from'../../_actions/clientes';import{useSelector,useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FormCliente(_ref){var getId=_ref.getId,setId=_ref.setId;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,setValue=_useForm.setValue;var cliente=useSelector(function(state){return state.clientes.find(function(cliente){return cliente._id===getId?cliente:null;});});var dispatch=useDispatch();useEffect(function(){if(getId!==0){var keys=Object.keys(cliente);keys.forEach(function(key){return setValue(key,cliente[key]);});}},[getId,cliente,setValue]);var onSubmit=function onSubmit(data){if(getId===0){dispatch(crearCliente(data));reset();}else{dispatch(updateCliente(getId,data));reset();setId(0);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",name:\"nombre\",placeholder:\"Nombre\"},register('nombre')))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",name:\"apellido\",placeholder:\"Apellido\"},register('apellido')))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",name:\"dni\",placeholder:\"DNI\"},register('dni')))}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Guardar\"})]})});}","map":{"version":3,"names":["React","useEffect","useForm","crearCliente","updateCliente","useSelector","useDispatch","FormCliente","getId","setId","register","handleSubmit","reset","setValue","cliente","state","clientes","find","_id","dispatch","keys","Object","forEach","key","onSubmit","data"],"sources":["I:/Facu/progra CS/workspace/client/src/components/form/FormCliente.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useForm } from 'react-hook-form';\r\nimport { crearCliente, updateCliente } from '../../_actions/clientes';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nexport default function FormCliente({ getId, setId }) {\r\n\tconst { register, handleSubmit, reset, setValue } = useForm();\r\n\tconst cliente = useSelector(state => state.clientes.find((cliente) => cliente._id === getId ? cliente : null));\r\n\tconst dispatch = useDispatch()\r\n\tuseEffect(() => {\r\n\t\tif (getId !== 0) {\r\n\t\t\tlet keys = Object.keys(cliente);\r\n\t\t\tkeys.forEach((key) => setValue(key, cliente[key]))\r\n\t\t}\r\n\t}, [getId, cliente, setValue])\r\n\tconst onSubmit = (data) => {\r\n\t\tif (getId === 0) {\r\n\t\t\tdispatch(crearCliente(data))\r\n\t\t\treset()\r\n\t\t} else {\r\n\t\t\tdispatch(updateCliente(getId, data))\r\n\t\t\treset()\r\n\t\t\tsetId(0)\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" name=\"nombre\" placeholder=\"Nombre\" {...register('nombre')}  />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" name=\"apellido\" placeholder=\"Apellido\" {...register('apellido')} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" name=\"dni\" placeholder=\"DNI\" {...register('dni')} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type=\"submit\">Guardar</button>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t)\r\n}"],"mappings":"uHAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,YAAT,CAAuBC,aAAvB,KAA4C,yBAA5C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,6IAEA,cAAe,SAASC,CAAAA,WAAT,MAAuC,IAAhBC,CAAAA,KAAgB,MAAhBA,KAAgB,CAATC,KAAS,MAATA,KAAS,CACrD,aAAoDP,OAAO,EAA3D,CAAQQ,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAAgCC,KAAhC,UAAgCA,KAAhC,CAAuCC,QAAvC,UAAuCA,QAAvC,CACA,GAAMC,CAAAA,OAAO,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoB,SAACH,OAAD,QAAaA,CAAAA,OAAO,CAACI,GAAR,GAAgBV,KAAhB,CAAwBM,OAAxB,CAAkC,IAA/C,EAApB,CAAJ,EAAN,CAA3B,CACA,GAAMK,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACAL,SAAS,CAAC,UAAM,CACf,GAAIO,KAAK,GAAK,CAAd,CAAiB,CAChB,GAAIY,CAAAA,IAAI,CAAGC,MAAM,CAACD,IAAP,CAAYN,OAAZ,CAAX,CACAM,IAAI,CAACE,OAAL,CAAa,SAACC,GAAD,QAASV,CAAAA,QAAQ,CAACU,GAAD,CAAMT,OAAO,CAACS,GAAD,CAAb,CAAjB,EAAb,EACA,CACD,CALQ,CAKN,CAACf,KAAD,CAAQM,OAAR,CAAiBD,QAAjB,CALM,CAAT,CAMA,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CAC1B,GAAIjB,KAAK,GAAK,CAAd,CAAiB,CAChBW,QAAQ,CAAChB,YAAY,CAACsB,IAAD,CAAb,CAAR,CACAb,KAAK,GACL,CAHD,IAGO,CACNO,QAAQ,CAACf,aAAa,CAACI,KAAD,CAAQiB,IAAR,CAAd,CAAR,CACAb,KAAK,GACLH,KAAK,CAAC,CAAD,CAAL,CACA,CACD,CATD,CAUA,mBACC,sCACC,cAAM,QAAQ,CAAEE,YAAY,CAACa,QAAD,CAA5B,wBACC,kCACC,4BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,QAAxB,CAAiC,WAAW,CAAC,QAA7C,EAA0Dd,QAAQ,CAAC,QAAD,CAAlE,EADD,EADD,cAIC,kCACC,4BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,WAAW,CAAC,UAA/C,EAA8DA,QAAQ,CAAC,UAAD,CAAtE,EADD,EAJD,cAOC,kCACC,4BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,KAAxB,CAA8B,WAAW,CAAC,KAA1C,EAAoDA,QAAQ,CAAC,KAAD,CAA5D,EADD,EAPD,cAUC,eAAQ,IAAI,CAAC,QAAb,qBAVD,GADD,EADD,CAgBA"},"metadata":{},"sourceType":"module"}